@model UNICAR_ADMIN.Models.DTOS.VehiculoDetalle

@{
    // Montamos la lista de fotos dinámicamente
    var fotos = new List<string?>
    {
        Model.FotoFrontal,
        Model.FotoTrasera,
        Model.FotoLateralIzquierda,
        Model.FotoLateralDerecha,
        Model.FotoInterior1,
        Model.FotoInterior2,
        Model.FotoMotor,
        Model.FotoExtra1,
        Model.FotoExtra2
    }
    .Where(u => !string.IsNullOrEmpty(u))
    .Cast<string>()
    .ToList();
}

<div class="row gx-4">
    <!-- Carousel de imágenes -->
    <div class="col-lg-7">
        <div id="carousel-@Model.VehiculoId" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner rounded">
                @for (int i = 0; i < fotos.Count; i++)
                {
                    <div class="carousel-item @(i == 0 ? "active" : "")">
                        <img src="@fotos[i]"
                             class="d-block w-100"
                             style="height:400px; object-fit:cover"
                             alt="Foto @i del vehículo">
                    </div>
                }
            </div>
            <button class="carousel-control-prev" type="button"
                    data-bs-target="#carousel-@Model.VehiculoId"
                    data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button"
                    data-bs-target="#carousel-@Model.VehiculoId"
                    data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>

            <!-- Thumbnails -->
            <div class="mt-3 d-flex flex-wrap justify-content-center">
                @for (int i = 0; i < fotos.Count; i++)
                {
                    <img src="@fotos[i]"
                         class="img-thumbnail mx-1 thumbnail"
                         style="width:70px; height:70px; object-fit:cover; cursor:pointer;"
                         data-bs-target="#carousel-@Model.VehiculoId"
                         data-bs-slide-to="@i" />
                }
            </div>
        </div>
    </div>

    <!-- Ficha técnica -->
    <div class="col-lg-5">
        <ul class="list-unstyled lh-lg">
            <li><strong>Año:</strong> @Model.Anio</li>
            <li><strong>Color:</strong> @Model.Color</li>
            <li><strong>Estado:</strong> @Model.Estado</li>
            <li><strong>VIN:</strong> @Model.Vin</li>
            <li><strong>Proveedor:</strong> @Model.Proveedor</li>
            <li><strong>Consignación:</strong> @(Model.EsConsignacion ? "Sí" : "No")</li>
            <li><strong>Precio:</strong> L. @Model.Precio.ToString("N2")</li>
        </ul>

        <button class="btn btn-primary w-100 mb-2">Agendar prueba</button>
        @* <button class="btn btn-outline-secondary w-100">Contactar</button> *@
    </div>
</div>




